// Generated by HLC 4.1.2 (HL v4)
#define HLC_BOOT
#include <hlc.h>
#include <actions/RotateByState.h>
#include <actions/RotateBy.h>
#include <hl/natives.h>
#include <urho3d/_Context/Context_Impl_.h>
#include <actions/FiniteTimeAction.h>
void actions_FiniteTimeActionState_new(actions__FiniteTimeActionState,actions__FiniteTimeAction,urho3d__Node);
extern urho3d___Context__$Context_Impl_ g$_urho3d__Context_Context_Impl_;
void actions_RotateByState_Update(actions__RotateByState,double);

void actions_RotateByState_new(actions__RotateByState r0,actions__RotateBy r1,urho3d__Node r2) {
	hl_urho3d_math_quaternion *r16;
	hl_urho3d_math_tquaternion *r6, *r7, *r11;
	urho3d___Context__$Context_Impl_ r9;
	float r13, r14, r15;
	urho3d_context *r8;
	hl_urho3d_scene_node *r5;
	double r4, r12;
	hl_urho3d_math_tvector3 *r10;
	actions_FiniteTimeActionState_new(((actions__FiniteTimeActionState)r0),((actions__FiniteTimeAction)r1),r2);
	if( r1 == NULL ) hl_null_access();
	r4 = r1->AngleX;
	r0->AngleX = r4;
	r4 = r1->AngleY;
	r0->AngleY = r4;
	r4 = r1->AngleZ;
	r0->AngleZ = r4;
	if( r2 == NULL ) hl_null_access();
	r5 = r2->abstractNode;
	if( !r5 ) goto label$fbb7cc9_1_17;
	r9 = (urho3d___Context__$Context_Impl_)g$_urho3d__Context_Context_Impl_;
	r8 = r9->context;
	r5 = r2->abstractNode;
	r7 = Urho3D__scene_node_get_rotation(r8,r5);
	r6 = r7;
	goto label$fbb7cc9_1_30;
	label$fbb7cc9_1_17:
	r4 = 0.;
	r10 = NULL;
	if( !r10 ) goto label$fbb7cc9_1_23;
	r13 = (float)r4;
	r11 = Urho3D__math_t_quaternion_create_fv(r13,r10);
	goto label$fbb7cc9_1_29;
	label$fbb7cc9_1_23:
	r13 = (float)r4;
	r12 = 0.;
	r14 = (float)r12;
	r12 = 0.;
	r15 = (float)r12;
	r11 = Urho3D__math_t_quaternion_create(r13,r14,r15);
	label$fbb7cc9_1_29:
	r6 = r11;
	label$fbb7cc9_1_30:
	r16 = Urho3D__math_t_quaternion_cast_to_quaternion(r6);
	r0->StartAngles = r16;
	return;
}

void actions_RotateByState_Step(actions__RotateByState r0,double r1) {
	bool r3;
	double r4, r5, r6, r7;
	r3 = r0->firstTick;
	if( !r3 ) goto label$fbb7cc9_2_7;
	r3 = false;
	r0->firstTick = r3;
	r4 = 0.;
	r0->elapsed = r4;
	goto label$fbb7cc9_2_10;
	label$fbb7cc9_2_7:
	r4 = r0->elapsed;
	r4 = r4 + r1;
	r0->elapsed = r4;
	label$fbb7cc9_2_10:
	r4 = r0->Duration;
	r5 = r0->elapsed;
	r7 = 9.999999999999999547e-08;
	if( r4 < r7 ) goto label$fbb7cc9_2_17;
	r6 = 9.999999999999999547e-08;
	r3 = hl_math_isnan(r6);
	if( !r3 ) goto label$fbb7cc9_2_19;
	label$fbb7cc9_2_17:
	r6 = 9.999999999999999547e-08;
	goto label$fbb7cc9_2_20;
	label$fbb7cc9_2_19:
	r6 = r4;
	label$fbb7cc9_2_20:
	r5 = r5 / r6;
	r6 = 1.;
	if( r6 < r5 ) goto label$fbb7cc9_2_26;
	r6 = 1.;
	r3 = hl_math_isnan(r6);
	if( !r3 ) goto label$fbb7cc9_2_28;
	label$fbb7cc9_2_26:
	r6 = 1.;
	goto label$fbb7cc9_2_29;
	label$fbb7cc9_2_28:
	r6 = r5;
	label$fbb7cc9_2_29:
	r7 = 0.;
	if( r7 < r6 ) goto label$fbb7cc9_2_33;
	r3 = hl_math_isnan(r6);
	if( !r3 ) goto label$fbb7cc9_2_35;
	label$fbb7cc9_2_33:
	r7 = r6;
	goto label$fbb7cc9_2_36;
	label$fbb7cc9_2_35:
	r7 = 0.;
	label$fbb7cc9_2_36:
	actions_RotateByState_Update(r0,r7);
	return;
}

void actions_RotateByState_Update(actions__RotateByState r0,double r1) {
	urho3d__Node r3, r5;
	hl_urho3d_math_tquaternion *r6, *r7, *r12;
	urho3d___Context__$Context_Impl_ r9;
	float r14, r15, r16;
	urho3d_context *r8;
	hl_urho3d_scene_node *r4;
	double r10, r13, r17;
	hl_urho3d_math_tvector3 *r11;
	r3 = r0->Target;
	if( !r3 ) goto label$fbb7cc9_3_52;
	r3 = r0->Target;
	if( r3 == NULL ) hl_null_access();
	r4 = r3->abstractNode;
	if( !r4 ) goto label$fbb7cc9_3_12;
	r9 = (urho3d___Context__$Context_Impl_)g$_urho3d__Context_Context_Impl_;
	r8 = r9->context;
	r4 = r3->abstractNode;
	r7 = Urho3D__scene_node_get_rotation(r8,r4);
	r6 = r7;
	goto label$fbb7cc9_3_25;
	label$fbb7cc9_3_12:
	r10 = 0.;
	r11 = NULL;
	if( !r11 ) goto label$fbb7cc9_3_18;
	r14 = (float)r10;
	r12 = Urho3D__math_t_quaternion_create_fv(r14,r11);
	goto label$fbb7cc9_3_24;
	label$fbb7cc9_3_18:
	r14 = (float)r10;
	r13 = 0.;
	r15 = (float)r13;
	r13 = 0.;
	r16 = (float)r13;
	r12 = Urho3D__math_t_quaternion_create(r14,r15,r16);
	label$fbb7cc9_3_24:
	r6 = r12;
	label$fbb7cc9_3_25:
	r10 = r0->AngleX;
	r10 = r10 * r1;
	r13 = r0->AngleY;
	r13 = r13 * r1;
	r17 = r0->AngleZ;
	r17 = r17 * r1;
	r11 = NULL;
	if( !r11 ) goto label$fbb7cc9_3_37;
	r14 = (float)r10;
	r12 = Urho3D__math_t_quaternion_create_fv(r14,r11);
	r7 = r12;
	goto label$fbb7cc9_3_42;
	label$fbb7cc9_3_37:
	r14 = (float)r10;
	r15 = (float)r13;
	r16 = (float)r17;
	r12 = Urho3D__math_t_quaternion_create(r14,r15,r16);
	r7 = r12;
	label$fbb7cc9_3_42:
	r12 = Urho3D__math_t_quaternion_multiply_tquaternion(r6,r7);
	Urho3D__math_t_quaternion_normalize(r12);
	r5 = r0->Target;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->abstractNode;
	if( !r4 ) goto label$fbb7cc9_3_52;
	r9 = (urho3d___Context__$Context_Impl_)g$_urho3d__Context_Context_Impl_;
	r8 = r9->context;
	r4 = r5->abstractNode;
	Urho3D__scene_node_set_rotation(r8,r4,r12);
	label$fbb7cc9_3_52:
	return;
}

