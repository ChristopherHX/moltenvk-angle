// Generated by HLC 4.1.2 (HL v4)
#define HLC_BOOT
#include <hlc.h>
#include <_std/Rotator.h>
#include <hl/natives.h>
urho3d__Node urho3d_Component_get_node(urho3d__Component);
void urho3d_Node_Rotate(urho3d__Node,hl_urho3d_math_quaternion*,int*);
void Rotator_ResetRotation(Rotator);
extern hl_type t$_f64;
double urho3d_LogicComponent_Random(urho3d__LogicComponent,vdynamic*,vdynamic*);
hl_urho3d_math_quaternion* urho3d_Node_set_rotation(urho3d__Node,hl_urho3d_math_quaternion*);
void urho3d_LogicComponent_new(urho3d__LogicComponent);

void Rotator_SetRotationSpeed(Rotator r0,hl_urho3d_math_vector3* r1) {
	r0->rotationSpeed = r1;
	return;
}

void Rotator_Update(Rotator r0,double r1) {
	urho3d__Node r9;
	hl_urho3d_math_vector3 *r6;
	hl_urho3d_math_quaternion *r3;
	float r5, r7, r8;
	double r4;
	int *r10;
	int r11, r12;
	r3 = r0->quat;
	r6 = r0->rotationSpeed;
	r5 = Urho3D__math_vector3_get_x(r6);
	r4 = (double)r5;
	r4 = r4 * r1;
	r5 = (float)r4;
	r6 = r0->rotationSpeed;
	r7 = Urho3D__math_vector3_get_y(r6);
	r4 = (double)r7;
	r4 = r4 * r1;
	r7 = (float)r4;
	r6 = r0->rotationSpeed;
	r8 = Urho3D__math_vector3_get_z(r6);
	r4 = (double)r8;
	r4 = r4 * r1;
	r8 = (float)r4;
	Urho3D__math_quaternion_set_euler_angles(r3,r5,r7,r8);
	r9 = urho3d_Component_get_node(((urho3d__Component)r0));
	if( r9 == NULL ) hl_null_access();
	r3 = r0->quat;
	r10 = NULL;
	urho3d_Node_Rotate(r9,r3,r10);
	r11 = r0->counter;
	++r11;
	r0->counter = r11;
	r11 = r0->counter;
	r12 = 200;
	r11 = r12 == 0 ? 0 : r11 % r12;
	r12 = 0;
	if( r11 != r12 ) goto label$dce0da2_2_31;
	Rotator_ResetRotation(r0);
	label$dce0da2_2_31:
	return;
}

void Rotator_ResetRotation(Rotator r0) {
	hl_urho3d_math_quaternion *r3, *r10;
	urho3d__Node r1;
	float r7, r8, r9;
	double r4;
	vdynamic *r5, *r6;
	r1 = urho3d_Component_get_node(((urho3d__Component)r0));
	r4 = 360.;
	r5 = hl_alloc_dynamic(&t$_f64);
	r5->v.d = r4;
	r6 = NULL;
	r4 = urho3d_LogicComponent_Random(((urho3d__LogicComponent)r0),r5,r6);
	r7 = (float)r4;
	r4 = 360.;
	r5 = hl_alloc_dynamic(&t$_f64);
	r5->v.d = r4;
	r6 = NULL;
	r4 = urho3d_LogicComponent_Random(((urho3d__LogicComponent)r0),r5,r6);
	r8 = (float)r4;
	r4 = 360.;
	r5 = hl_alloc_dynamic(&t$_f64);
	r5->v.d = r4;
	r6 = NULL;
	r4 = urho3d_LogicComponent_Random(((urho3d__LogicComponent)r0),r5,r6);
	r9 = (float)r4;
	r3 = Urho3D__math_quaternion_create(r7,r8,r9);
	if( r1 == NULL ) hl_null_access();
	r10 = urho3d_Node_set_rotation(r1,r3);
	return;
}

void Rotator_new(Rotator r0) {
	hl_urho3d_math_quaternion *r2;
	float r4, r5, r6;
	double r3;
	int r1;
	r1 = 1;
	r0->counter = r1;
	r3 = 0.;
	r4 = (float)r3;
	r3 = 0.;
	r5 = (float)r3;
	r3 = 0.;
	r6 = (float)r3;
	r2 = Urho3D__math_quaternion_create(r4,r5,r6);
	r0->quat = r2;
	urho3d_LogicComponent_new(((urho3d__LogicComponent)r0));
	return;
}

