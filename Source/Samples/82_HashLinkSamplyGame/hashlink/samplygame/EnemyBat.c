// Generated by HLC 4.1.2 (HL v4)
#define HLC_BOOT
#include <hlc.h>
#include <samplygame/EnemyBat.h>
void samplygame_Enemy_new(samplygame__Enemy);
extern String s$EnemyBat;
#include <hl/natives.h>
#include <urho3d/_Context/Context_Impl_.h>
#include <urho3d/StaticModel.h>
#include <samplygame/BigWhiteCube.h>
#include <haxe/ds/ObjectMap.h>
#include <haxe/ds/StringMap.h>
#include <hl/types/ArrayDyn.h>
#include <hl/types/ArrayObj.h>
#include <urho3d/actions/ActionID.h>
#include <urho3d/actions/ActionDef.h>
#include <urho3d/actions/MoveTo.h>
#include <urho3d/actions/FiniteTimeActionState.h>
urho3d__Node urho3d_Component_get_node(urho3d__Component);
extern urho3d___Context__$Context_Impl_ g$_urho3d__Context_Context_Impl_;
extern String s$StaticModel;
extern hl_type t$urho3d_StaticModel;
void urho3d_StaticModel_new(urho3d__StaticModel,hl_urho3d_graphics_staticmodel*);
extern String s$Models_Enemy1_mdl;
hl_urho3d_graphics_model* urho3d_StaticModel_set_model(urho3d__StaticModel,hl_urho3d_graphics_model*);
extern String s$Materials_Enemy1_xml;
extern String s$;
hl_urho3d_graphics_material* urho3d_StaticModel_set_material(urho3d__StaticModel,hl_urho3d_graphics_material*);
extern hl_type t$_f64;
double urho3d_LogicComponent_Random(urho3d__LogicComponent,vdynamic*,vdynamic*);
extern hl_type t$samplygame_BigWhiteCube;
void samplygame_BigWhiteCube_new(samplygame__BigWhiteCube);
extern hl_type t$urho3d_Component;
hl_urho3d_scene_component_ptr* urho3d_Component_get_pointer(urho3d__Component);
extern hl_type t$hl_urho3d_scene_component_ptr;
void haxe_ds_ObjectMap_set(haxe__ds__ObjectMap,vdynamic*,vdynamic*);
urho3d__Node urho3d_Component_set_node(urho3d__Component,urho3d__Node);
extern hl_type t$_dyn;
extern hl_type t$hl_urho3d_scene_component;
String Std_string(vdynamic*);
vdynamic* haxe_ds_StringMap_get(haxe__ds__StringMap,String);
extern hl_type t$hl_types_ArrayDyn;
hl__types__ArrayObj hl_types_ArrayObj_alloc(varray*);
#include <hl/types/ArrayBase.h>
hl__types__ArrayDyn hl_types_ArrayDyn_alloc(hl__types__ArrayBase,bool*);
void haxe_ds_StringMap_set(haxe__ds__StringMap,String,vdynamic*);
int hl_types_ArrayDyn_push(hl__types__ArrayDyn,vdynamic*);
extern hl_type t$urho3d_actions_MoveTo;
void urho3d_actions_MoveTo_new(urho3d__actions__MoveTo,double,hl_urho3d_math_vector3*);
void samplygame_EnemyBat_StartMoveRandomLoop(samplygame__EnemyBat,urho3d__actions__ActionID);
extern hl_type t$fun_93e1f1f;
#include <urho3d/actions/FiniteTimeAction.h>
urho3d__actions__ActionID urho3d_actions_ActionManager_AddAction(urho3d__actions__ActionDef,urho3d__actions__FiniteTimeAction,urho3d__Node,urho3d__actions__FiniteTimeActionState,vclosure*);
void samplygame_Enemy_MoveRandomly(samplygame__Enemy,double,double,double,double,double);
void samplygame_Enemy_StartShooting(samplygame__Enemy);
void urho3d_actions_ActionID_DeleteTargets(urho3d__actions__ActionID);

void samplygame_EnemyBat_new(samplygame__EnemyBat r0) {
	String r3;
	int r2;
	samplygame_Enemy_new(((samplygame__Enemy)r0));
	r2 = 30;
	r0->MaxHealth = r2;
	r3 = (String)s$EnemyBat;
	r0->name = r3;
	return;
}

void samplygame_EnemyBat_Init(samplygame__EnemyBat r0) {
	bool *r39;
	String r8, r16;
	haxe__ds__ObjectMap r31;
	hl__types__ArrayObj r37;
	haxe__ds__StringMap r33;
	urho3d__actions__ActionDef r44;
	hl_type *r36;
	hl_urho3d_scene_component *r5;
	urho3d__actions__FiniteTimeActionState r46;
	bool r38;
	samplygame__BigWhiteCube r28;
	urho3d__StaticModel r12;
	hl_urho3d_math_vector3 *r27;
	urho3d__Node r2, r4, r26;
	urho3d__actions__MoveTo r45;
	urho3d__Component r30;
	hl_urho3d_graphics_material *r15, *r17;
	urho3d___Context__$Context_Impl_ r7;
	float r23, r24, r25;
	urho3d_context *r6;
	hl_urho3d_scene_node *r3;
	vclosure *r47;
	hl__types__ArrayDyn r34;
	hl_urho3d_scene_component_ptr *r32;
	double r18, r22, r40;
	hl_urho3d_graphics_staticmodel *r11;
	hl_urho3d_math_tvector3 *r21;
	vdynamic *r19, *r20, *r29;
	urho3d__actions__ActionID r43;
	varray *r35;
	hl_urho3d_graphics_model *r13, *r14;
	int r9, r10, r41, r42;
	r2 = urho3d_Component_get_node(((urho3d__Component)r0));
	if( r2 == NULL ) hl_null_access();
	r3 = r2->abstractNode;
	if( !r3 ) goto label$64e7113_2_12;
	r7 = (urho3d___Context__$Context_Impl_)g$_urho3d__Context_Context_Impl_;
	r6 = r7->context;
	r3 = r2->abstractNode;
	r8 = (String)s$StaticModel;
	r9 = 0;
	r10 = 0;
	r5 = Urho3D__scene_node_create_component(r6,r3,r8,r9,r10);
	goto label$64e7113_2_13;
	label$64e7113_2_12:
	r5 = NULL;
	label$64e7113_2_13:
	if( !r5 ) goto label$64e7113_2_20;
	r7 = (urho3d___Context__$Context_Impl_)g$_urho3d__Context_Context_Impl_;
	r6 = r7->context;
	r11 = Urho3D__graphics_staticmodel_cast_from_component(r6,r5);
	r12 = (urho3d__StaticModel)hl_alloc_obj(&t$urho3d_StaticModel);
	urho3d_StaticModel_new(r12,r11);
	goto label$64e7113_2_21;
	label$64e7113_2_20:
	r12 = NULL;
	label$64e7113_2_21:
	r7 = (urho3d___Context__$Context_Impl_)g$_urho3d__Context_Context_Impl_;
	r6 = r7->context;
	r8 = (String)s$Models_Enemy1_mdl;
	r13 = Urho3D__graphics_model_create(r6,r8);
	if( r12 == NULL ) hl_null_access();
	r14 = urho3d_StaticModel_set_model(r12,r13);
	r7 = (urho3d___Context__$Context_Impl_)g$_urho3d__Context_Context_Impl_;
	r6 = r7->context;
	r8 = (String)s$Materials_Enemy1_xml;
	r15 = Urho3D__graphics_material_create(r6,r8);
	r8 = (String)s$;
	if( r8 ) goto label$64e7113_2_35;
	r16 = (String)s$;
	r8 = r16;
	label$64e7113_2_35:
	r7 = (urho3d___Context__$Context_Impl_)g$_urho3d__Context_Context_Impl_;
	r6 = r7->context;
	r17 = Urho3D__graphics_material_clone(r6,r15,r8);
	r17 = urho3d_StaticModel_set_material(r12,r17);
	r4 = urho3d_Component_get_node(((urho3d__Component)r0));
	r18 = 0.5;
	r19 = hl_alloc_dynamic(&t$_f64);
	r19->v.d = r18;
	r18 = 0.8000000000000000444;
	r20 = hl_alloc_dynamic(&t$_f64);
	r20->v.d = r18;
	r18 = urho3d_LogicComponent_Random(((urho3d__LogicComponent)r0),r19,r20);
	r23 = (float)r18;
	r24 = (float)r18;
	r25 = (float)r18;
	r21 = Urho3D__math_tvector3_create(r23,r24,r25);
	if( r4 == NULL ) hl_null_access();
	r3 = r4->abstractNode;
	if( !r3 ) goto label$64e7113_2_56;
	r7 = (urho3d___Context__$Context_Impl_)g$_urho3d__Context_Context_Impl_;
	r6 = r7->context;
	r3 = r4->abstractNode;
	Urho3D__scene_node_set_scale(r6,r3,r21);
	label$64e7113_2_56:
	r4 = urho3d_Component_get_node(((urho3d__Component)r0));
	r18 = -1.5;
	r19 = hl_alloc_dynamic(&t$_f64);
	r19->v.d = r18;
	r18 = 1.5;
	r20 = hl_alloc_dynamic(&t$_f64);
	r20->v.d = r18;
	r18 = urho3d_LogicComponent_Random(((urho3d__LogicComponent)r0),r19,r20);
	r23 = (float)r18;
	r18 = 7.;
	r24 = (float)r18;
	r18 = 0.;
	r25 = (float)r18;
	r27 = Urho3D__math_vector3_create(r23,r24,r25);
	r21 = Urho3D__math_tvector3_cast_from_vector3(r27);
	if( r4 == NULL ) hl_null_access();
	r3 = r4->abstractNode;
	if( !r3 ) goto label$64e7113_2_76;
	r7 = (urho3d___Context__$Context_Impl_)g$_urho3d__Context_Context_Impl_;
	r6 = r7->context;
	r3 = r4->abstractNode;
	Urho3D__scene_node_set_position(r6,r3,r21);
	label$64e7113_2_76:
	r4 = urho3d_Component_get_node(((urho3d__Component)r0));
	r28 = (samplygame__BigWhiteCube)hl_alloc_obj(&t$samplygame_BigWhiteCube);
	samplygame_BigWhiteCube_new(r28);
	if( r4 == NULL ) hl_null_access();
	r3 = r4->abstractNode;
	if( !r3 ) goto label$64e7113_2_122;
	r30 = (urho3d__Component)hl_dyn_castp(&r28,&t$samplygame_BigWhiteCube,&t$urho3d_Component);
	r31 = r4->components_map;
	if( r31 == NULL ) hl_null_access();
	if( r30 == NULL ) hl_null_access();
	r32 = urho3d_Component_get_pointer(r30);
	if( r32 == NULL ) r29 = NULL; else {
		r29 = hl_alloc_dynamic(&t$hl_urho3d_scene_component_ptr);
		r29->v.ptr = r32;
	}
	haxe_ds_ObjectMap_set(r31,r29,((vdynamic*)r30));
	r26 = urho3d_Component_set_node(r30,r4);
	r7 = (urho3d___Context__$Context_Impl_)g$_urho3d__Context_Context_Impl_;
	r6 = r7->context;
	r3 = r4->abstractNode;
	r29 = (vdynamic*)hl_dyn_getp((vdynamic*)r28,-460463503/*abstractComponent*/,&t$_dyn);
	r5 = (hl_urho3d_scene_component*)hl_dyn_castp(&r29,&t$_dyn,&t$hl_urho3d_scene_component);
	r9 = 0;
	r10 = 0;
	Urho3D__scene_node_add_component(r6,r3,r5,r9,r10);
	r33 = r4->logic_components_map;
	if( r33 == NULL ) hl_null_access();
	r16 = Std_string(((vdynamic*)r28));
	r29 = haxe_ds_StringMap_get(r33,r16);
	r34 = (hl__types__ArrayDyn)hl_dyn_castp(&r29,&t$_dyn,&t$hl_types_ArrayDyn);
	if( r34 ) goto label$64e7113_2_115;
	r36 = &t$_dyn;
	r9 = 0;
	r35 = hl_alloc_array(r36,r9);
	r37 = hl_types_ArrayObj_alloc(r35);
	r38 = true;
	r39 = &r38;
	r34 = hl_types_ArrayDyn_alloc(((hl__types__ArrayBase)r37),r39);
	r33 = r4->logic_components_map;
	if( r33 == NULL ) hl_null_access();
	r16 = Std_string(((vdynamic*)r28));
	haxe_ds_StringMap_set(r33,r16,((vdynamic*)r34));
	label$64e7113_2_115:
	r33 = r4->logic_components_map;
	if( r33 == NULL ) hl_null_access();
	r16 = Std_string(((vdynamic*)r28));
	r29 = haxe_ds_StringMap_get(r33,r16);
	r34 = (hl__types__ArrayDyn)hl_dyn_castp(&r29,&t$_dyn,&t$hl_types_ArrayDyn);
	if( r34 == NULL ) hl_null_access();
	r9 = hl_types_ArrayDyn_push(r34,((vdynamic*)r28));
	label$64e7113_2_122:
	r9 = 1;
	r18 = (double)r9;
	r19 = hl_alloc_dynamic(&t$_f64);
	r19->v.d = r18;
	r20 = NULL;
	r18 = urho3d_LogicComponent_Random(((urho3d__LogicComponent)r0),r19,r20);
	r40 = 0.5;
	if( !(r40 < r18) ) goto label$64e7113_2_131;
	r9 = 1;
	goto label$64e7113_2_132;
	label$64e7113_2_131:
	r9 = 0;
	label$64e7113_2_132:
	r4 = urho3d_Component_get_node(((urho3d__Component)r0));
	r10 = 0;
	r22 = (double)r10;
	r19 = hl_alloc_dynamic(&t$_f64);
	r19->v.d = r22;
	r10 = 2;
	r22 = (double)r10;
	r20 = hl_alloc_dynamic(&t$_f64);
	r20->v.d = r22;
	r22 = urho3d_LogicComponent_Random(((urho3d__LogicComponent)r0),r19,r20);
	r10 = 3;
	r42 = 1;
	if( r9 != r42 ) goto label$64e7113_2_145;
	r41 = 1;
	goto label$64e7113_2_146;
	label$64e7113_2_145:
	r41 = -1;
	label$64e7113_2_146:
	r10 = r10 * r41;
	r23 = (float)r10;
	r24 = (float)r22;
	r10 = 0;
	r25 = (float)r10;
	r27 = Urho3D__math_vector3_create(r23,r24,r25);
	r21 = Urho3D__math_tvector3_cast_from_vector3(r27);
	if( r4 == NULL ) hl_null_access();
	r3 = r4->abstractNode;
	if( !r3 ) goto label$64e7113_2_160;
	r7 = (urho3d___Context__$Context_Impl_)g$_urho3d__Context_Context_Impl_;
	r6 = r7->context;
	r3 = r4->abstractNode;
	Urho3D__scene_node_set_position(r6,r3,r21);
	label$64e7113_2_160:
	r10 = -2;
	r22 = (double)r10;
	r19 = hl_alloc_dynamic(&t$_f64);
	r19->v.d = r22;
	r10 = 2;
	r22 = (double)r10;
	r20 = hl_alloc_dynamic(&t$_f64);
	r20->v.d = r22;
	r22 = urho3d_LogicComponent_Random(((urho3d__LogicComponent)r0),r19,r20);
	r23 = (float)r22;
	r10 = 2;
	r22 = (double)r10;
	r19 = hl_alloc_dynamic(&t$_f64);
	r19->v.d = r22;
	r10 = 4;
	r22 = (double)r10;
	r20 = hl_alloc_dynamic(&t$_f64);
	r20->v.d = r22;
	r22 = urho3d_LogicComponent_Random(((urho3d__LogicComponent)r0),r19,r20);
	r24 = (float)r22;
	r10 = 0;
	r25 = (float)r10;
	r27 = Urho3D__math_vector3_create(r23,r24,r25);
	r44 = NULL;
	r45 = (urho3d__actions__MoveTo)hl_alloc_obj(&t$urho3d_actions_MoveTo);
	r22 = 1.;
	urho3d_actions_MoveTo_new(r45,r22,r27);
	r4 = urho3d_Component_get_node(((urho3d__Component)r0));
	r46 = NULL;
	r47 = hl_alloc_closure_ptr(&t$fun_93e1f1f,samplygame_EnemyBat_StartMoveRandomLoop,r0);
	r43 = urho3d_actions_ActionManager_AddAction(r44,((urho3d__actions__FiniteTimeAction)r45),r4,r46,r47);
	return;
}

void samplygame_EnemyBat_StartMoveRandomLoop(samplygame__EnemyBat r0,urho3d__actions__ActionID r1) {
	double r3, r4, r5, r6, r7;
	r3 = -2.;
	r4 = 2.;
	r5 = -1.;
	r6 = 1.;
	r7 = 0.5;
	samplygame_Enemy_MoveRandomly(((samplygame__Enemy)r0),r3,r4,r5,r6,r7);
	samplygame_Enemy_StartShooting(((samplygame__Enemy)r0));
	return;
}

void samplygame_EnemyBat_RemoveTargets(samplygame__EnemyBat r0,urho3d__actions__ActionID r1) {
	if( r1 == NULL ) hl_null_access();
	urho3d_actions_ActionID_DeleteTargets(r1);
	return;
}

