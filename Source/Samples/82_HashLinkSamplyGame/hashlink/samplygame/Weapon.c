// Generated by HLC 4.1.2 (HL v4)
#define HLC_BOOT
#include <hlc.h>
#include <samplygame/Weapon.h>
int urho3d_Time_get_systemTime(void);
#include <hl/natives.h>
#include <urho3d/_Context/Context_Impl_.h>
#include <urho3d/RigidBody.h>
extern urho3d___Context__$Context_Impl_ g$_urho3d__Context_Context_Impl_;
extern String s$RigidBody;
extern hl_type t$urho3d_RigidBody;
void urho3d_RigidBody_new(urho3d__RigidBody,hl_urho3d_physics_rigid_body*);
bool urho3d_Component_set_enabled(urho3d__Component,bool);
#include <haxe/ds/ObjectMap.h>
#include <haxe/ds/StringMap.h>
#include <urho3d/CollisionShape.h>
urho3d__Node urho3d_Component_get_node(urho3d__Component);
urho3d__Scene urho3d_Component_get_scene(urho3d__Component);
extern String s$bullet;
extern String s$;
extern hl_type t$urho3d_Node;
void urho3d_Node_new(urho3d__Node,hl_urho3d_scene_node*);
hl_urho3d_scene_node_ptr* urho3d_Node_get_pointer(urho3d__Node);
extern hl_type t$hl_urho3d_scene_node_ptr;
void haxe_ds_ObjectMap_set(haxe__ds__ObjectMap,vdynamic*,vdynamic*);
int String___compare(String,vdynamic*);
void haxe_ds_StringMap_set(haxe__ds__StringMap,String,vdynamic*);
extern String s$CollisionShape;
extern hl_type t$urho3d_CollisionShape;
void urho3d_CollisionShape_new(urho3d__CollisionShape,hl_urho3d_physics_collision_shape*);
bool urho3d_RigidBody_set_kinematic(urho3d__RigidBody,bool);
int urho3d_RigidBody_set_collisionLayer(urho3d__RigidBody,int);
hl_urho3d_tvariantmap* urho3d_Node_get_vars(urho3d__Node);
extern String s$node;
void urho3d_LogicComponent_new(urho3d__LogicComponent,vdynamic*);

bool samplygame_Weapon_get_IsReloading(samplygame__Weapon r0) {
	bool r1;
	int r2, r3;
	r2 = r0->LastLaunchDate;
	r3 = r0->ReloadDuration;
	r2 = r2 + r3;
	r3 = urho3d_Time_get_systemTime();
	if( r2 > r3 ) goto label$153fc99_1_7;
	r1 = false;
	goto label$153fc99_1_8;
	label$153fc99_1_7:
	r1 = true;
	label$153fc99_1_8:
	return r1;
}

void samplygame_Weapon_OnHit(samplygame__Weapon r0,urho3d__LogicComponent r1,bool r2,urho3d__Node r3) {
	String r9;
	hl_urho3d_physics_rigid_body *r11;
	hl_urho3d_scene_component *r6;
	urho3d__RigidBody r12;
	bool r10;
	urho3d___Context__$Context_Impl_ r8;
	float r15, r16, r17;
	urho3d_context *r7;
	hl_urho3d_scene_node *r5;
	hl_urho3d_math_tvector3 *r13;
	int r14;
	if( r3 == NULL ) hl_null_access();
	r5 = r3->abstractNode;
	if( !r5 ) goto label$153fc99_2_10;
	r8 = (urho3d___Context__$Context_Impl_)g$_urho3d__Context_Context_Impl_;
	r7 = r8->context;
	r5 = r3->abstractNode;
	r9 = (String)s$RigidBody;
	r10 = false;
	r6 = Urho3D__scene_node_get_component(r7,r5,r9,r10);
	goto label$153fc99_2_11;
	label$153fc99_2_10:
	r6 = NULL;
	label$153fc99_2_11:
	if( !r6 ) goto label$153fc99_2_21;
	r8 = (urho3d___Context__$Context_Impl_)g$_urho3d__Context_Context_Impl_;
	r7 = r8->context;
	r11 = Urho3D__physics_rigid_body_cast_from_component(r7,r6);
	if( !r11 ) goto label$153fc99_2_19;
	r12 = (urho3d__RigidBody)hl_alloc_obj(&t$urho3d_RigidBody);
	urho3d_RigidBody_new(r12,r11);
	goto label$153fc99_2_20;
	label$153fc99_2_19:
	r12 = NULL;
	label$153fc99_2_20:
	goto label$153fc99_2_22;
	label$153fc99_2_21:
	r12 = NULL;
	label$153fc99_2_22:
	if( !r12 ) goto label$153fc99_2_26;
	if( r12 == NULL ) hl_null_access();
	r10 = false;
	r10 = urho3d_Component_set_enabled(((urho3d__Component)r12),r10);
	label$153fc99_2_26:
	r14 = 0;
	r15 = (float)r14;
	r14 = 0;
	r16 = (float)r14;
	r14 = 0;
	r17 = (float)r14;
	r13 = Urho3D__math_tvector3_create(r15,r16,r17);
	r5 = r3->abstractNode;
	if( !r5 ) goto label$153fc99_2_39;
	r8 = (urho3d___Context__$Context_Impl_)g$_urho3d__Context_Context_Impl_;
	r7 = r8->context;
	r5 = r3->abstractNode;
	Urho3D__scene_node_set_scale(r7,r5,r13);
	label$153fc99_2_39:
	return;
}

void samplygame_Weapon_Stop(samplygame__Weapon r0) {
	return;
}

bool samplygame_Weapon_FireAsync(samplygame__Weapon r0,bool r1) {
	bool r3;
	int r4;
	r3 = r0->isInited;
	if( r3 ) goto label$153fc99_4_5;
	r3 = true;
	r0->isInited = r3;
	((void (*)(samplygame__Weapon))r0->$type->vobj_proto[3])(r0);
	label$153fc99_4_5:
	r3 = samplygame_Weapon_get_IsReloading(r0);
	if( !r3 ) goto label$153fc99_4_9;
	r3 = false;
	return r3;
	label$153fc99_4_9:
	r4 = urho3d_Time_get_systemTime();
	r0->LastLaunchDate = r4;
	((void (*)(samplygame__Weapon,bool))r0->$type->vobj_proto[4])(r0,r1);
	r3 = true;
	return r3;
}

void samplygame_Weapon_Init(samplygame__Weapon r0) {
	return;
}

urho3d__Node samplygame_Weapon_CreateRigidBullet(samplygame__Weapon r0,bool r1,hl_urho3d_math_vector3* r2) {
	String r11, r12, r24;
	hl_urho3d_physics_rigid_body *r30;
	haxe__ds__ObjectMap r20;
	haxe__ds__StringMap r25;
	hl_urho3d_scene_component *r29;
	hl_urho3d_scene_node_ptr *r21;
	hl_urho3d_tstringhash *r41;
	urho3d__RigidBody r31;
	bool r18;
	hl_urho3d_core_object *r44;
	hl_urho3d_math_quaternion *r35;
	urho3d__Scene r10;
	urho3d__Node r9, r19, r22;
	hl_urho3d_math_vector3 *r4;
	hl_urho3d_tvariant *r42, *r43;
	hl_urho3d_tvariantmap *r40;
	urho3d__CollisionShape r33;
	hl_urho3d_math_tquaternion *r37, *r38;
	urho3d___Context__$Context_Impl_ r15;
	urho3d_context *r14;
	hl_urho3d_scene_node *r13;
	float r6, r7, r8;
	double r5, r36, r39;
	hl_urho3d_physics_collision_shape *r32;
	hl_urho3d_math_tvector3 *r26, *r27, *r28, *r34;
	vdynamic *r23;
	int r16, r17;
	if( r2 ) goto label$153fc99_6_9;
	r5 = 1.;
	r6 = (float)r5;
	r5 = 1.;
	r7 = (float)r5;
	r5 = 1.;
	r8 = (float)r5;
	r4 = Urho3D__math_vector3_create(r6,r7,r8);
	r2 = r4;
	label$153fc99_6_9:
	r9 = urho3d_Component_get_node(((urho3d__Component)r0));
	r10 = urho3d_Component_get_scene(((urho3d__Component)r0));
	r11 = (String)s$bullet;
	if( r11 ) goto label$153fc99_6_15;
	r12 = (String)s$;
	r11 = r12;
	label$153fc99_6_15:
	if( r10 == NULL ) hl_null_access();
	r13 = r10->abstractNode;
	if( !r13 ) goto label$153fc99_6_40;
	r15 = (urho3d___Context__$Context_Impl_)g$_urho3d__Context_Context_Impl_;
	r14 = r15->context;
	r13 = r10->abstractNode;
	r16 = 0;
	r17 = 0;
	r18 = false;
	r13 = Urho3D__scene_node_create_child(r14,r13,r11,r16,r17,r18);
	r19 = (urho3d__Node)hl_alloc_obj(&t$urho3d_Node);
	urho3d_Node_new(r19,r13);
	r20 = r10->children_pointers_map;
	if( r20 == NULL ) hl_null_access();
	r21 = urho3d_Node_get_pointer(r19);
	if( r21 == NULL ) r23 = NULL; else {
		r23 = hl_alloc_dynamic(&t$hl_urho3d_scene_node_ptr);
		r23->v.ptr = r21;
	}
	haxe_ds_ObjectMap_set(r20,r23,((vdynamic*)r19));
	r24 = (String)s$;
	if( r11 == r24 || (r11 && r24 && String___compare(r11,(vdynamic*)r24) == 0) ) goto label$153fc99_6_37;
	r25 = r10->children_name_map;
	if( r25 == NULL ) hl_null_access();
	haxe_ds_StringMap_set(r25,r11,((vdynamic*)r19));
	label$153fc99_6_37:
	r19->_parent = ((urho3d__Node)r10);
	r22 = r19;
	goto label$153fc99_6_42;
	label$153fc99_6_40:
	r19 = NULL;
	r22 = r19;
	label$153fc99_6_42:
	if( r9 == NULL ) hl_null_access();
	r13 = r9->abstractNode;
	if( !r13 ) goto label$153fc99_6_50;
	r15 = (urho3d___Context__$Context_Impl_)g$_urho3d__Context_Context_Impl_;
	r14 = r15->context;
	r13 = r9->abstractNode;
	r27 = Urho3D__scene_node_get_position(r14,r13);
	goto label$153fc99_6_57;
	label$153fc99_6_50:
	r5 = 0.;
	r6 = (float)r5;
	r5 = 0.;
	r7 = (float)r5;
	r5 = 0.;
	r8 = (float)r5;
	r27 = Urho3D__math_tvector3_create(r6,r7,r8);
	label$153fc99_6_57:
	if( r22 == NULL ) hl_null_access();
	r13 = r22->abstractNode;
	if( !r13 ) goto label$153fc99_6_64;
	r15 = (urho3d___Context__$Context_Impl_)g$_urho3d__Context_Context_Impl_;
	r14 = r15->context;
	r13 = r22->abstractNode;
	Urho3D__scene_node_set_position(r14,r13,r27);
	label$153fc99_6_64:
	r13 = r22->abstractNode;
	if( !r13 ) goto label$153fc99_6_74;
	r15 = (urho3d___Context__$Context_Impl_)g$_urho3d__Context_Context_Impl_;
	r14 = r15->context;
	r13 = r22->abstractNode;
	r12 = (String)s$RigidBody;
	r16 = 0;
	r17 = 0;
	r29 = Urho3D__scene_node_create_component(r14,r13,r12,r16,r17);
	goto label$153fc99_6_75;
	label$153fc99_6_74:
	r29 = NULL;
	label$153fc99_6_75:
	if( !r29 ) goto label$153fc99_6_85;
	r15 = (urho3d___Context__$Context_Impl_)g$_urho3d__Context_Context_Impl_;
	r14 = r15->context;
	r30 = Urho3D__physics_rigid_body_cast_from_component(r14,r29);
	if( !r30 ) goto label$153fc99_6_83;
	r31 = (urho3d__RigidBody)hl_alloc_obj(&t$urho3d_RigidBody);
	urho3d_RigidBody_new(r31,r30);
	goto label$153fc99_6_84;
	label$153fc99_6_83:
	r31 = NULL;
	label$153fc99_6_84:
	goto label$153fc99_6_86;
	label$153fc99_6_85:
	r31 = NULL;
	label$153fc99_6_86:
	r13 = r22->abstractNode;
	if( !r13 ) goto label$153fc99_6_96;
	r15 = (urho3d___Context__$Context_Impl_)g$_urho3d__Context_Context_Impl_;
	r14 = r15->context;
	r13 = r22->abstractNode;
	r12 = (String)s$CollisionShape;
	r16 = 0;
	r17 = 0;
	r29 = Urho3D__scene_node_create_component(r14,r13,r12,r16,r17);
	goto label$153fc99_6_97;
	label$153fc99_6_96:
	r29 = NULL;
	label$153fc99_6_97:
	if( !r29 ) goto label$153fc99_6_107;
	r15 = (urho3d___Context__$Context_Impl_)g$_urho3d__Context_Context_Impl_;
	r14 = r15->context;
	r32 = Urho3D__physics_collision_shape_cast_from_component(r14,r29);
	if( !r32 ) goto label$153fc99_6_105;
	r33 = (urho3d__CollisionShape)hl_alloc_obj(&t$urho3d_CollisionShape);
	urho3d_CollisionShape_new(r33,r32);
	goto label$153fc99_6_106;
	label$153fc99_6_105:
	r33 = NULL;
	label$153fc99_6_106:
	goto label$153fc99_6_108;
	label$153fc99_6_107:
	r33 = NULL;
	label$153fc99_6_108:
	r26 = Urho3D__math_tvector3_cast_from_vector3(r2);
	r16 = 0;
	r6 = (float)r16;
	r16 = 0;
	r7 = (float)r16;
	r16 = 0;
	r8 = (float)r16;
	r4 = Urho3D__math_vector3_create(r6,r7,r8);
	r27 = Urho3D__math_tvector3_cast_from_vector3(r4);
	r5 = 0.;
	r28 = NULL;
	if( !r28 ) goto label$153fc99_6_123;
	r6 = (float)r5;
	r35 = Urho3D__math_quaternion_create_fv(r6,r28);
	goto label$153fc99_6_129;
	label$153fc99_6_123:
	r6 = (float)r5;
	r36 = 0.;
	r7 = (float)r36;
	r36 = 0.;
	r8 = (float)r36;
	r35 = Urho3D__math_quaternion_create(r6,r7,r8);
	label$153fc99_6_129:
	r37 = Urho3D__math_t_quaternion_cast_from_quaternion(r35);
	if( r27 ) goto label$153fc99_6_139;
	r36 = 0.;
	r6 = (float)r36;
	r36 = 0.;
	r7 = (float)r36;
	r36 = 0.;
	r8 = (float)r36;
	r34 = Urho3D__math_tvector3_create(r6,r7,r8);
	r27 = r34;
	label$153fc99_6_139:
	if( r37 ) goto label$153fc99_6_153;
	r36 = 0.;
	r34 = NULL;
	if( !r34 ) goto label$153fc99_6_146;
	r6 = (float)r36;
	r38 = Urho3D__math_t_quaternion_create_fv(r6,r34);
	goto label$153fc99_6_152;
	label$153fc99_6_146:
	r6 = (float)r36;
	r39 = 0.;
	r7 = (float)r39;
	r39 = 0.;
	r8 = (float)r39;
	r38 = Urho3D__math_t_quaternion_create(r6,r7,r8);
	label$153fc99_6_152:
	r37 = r38;
	label$153fc99_6_153:
	r15 = (urho3d___Context__$Context_Impl_)g$_urho3d__Context_Context_Impl_;
	r14 = r15->context;
	if( r33 == NULL ) hl_null_access();
	r32 = r33->_abstract;
	Urho3D__physics_collision_shape_set_box(r14,r32,r26,r27,r37);
	if( r31 == NULL ) hl_null_access();
	r18 = true;
	r18 = urho3d_RigidBody_set_kinematic(r31,r18);
	if( !r1 ) goto label$153fc99_6_164;
	r16 = 4;
	goto label$153fc99_6_165;
	label$153fc99_6_164:
	r16 = 2;
	label$153fc99_6_165:
	r16 = urho3d_RigidBody_set_collisionLayer(r31,r16);
	r40 = urho3d_Node_get_vars(r22);
	r12 = (String)s$node;
	r41 = Urho3D__math_tstringhash_create(r12);
	r19 = urho3d_Component_get_node(((urho3d__Component)r0));
	r42 = Urho3D__create_tvariant();
	r15 = (urho3d___Context__$Context_Impl_)g$_urho3d__Context_Context_Impl_;
	r14 = r15->context;
	if( r19 == NULL ) hl_null_access();
	r13 = r19->abstractNode;
	r44 = Urho3D__core_object_cast_from_node(r14,r13);
	Urho3D__tvariant_set_object(r42,r44);
	r43 = Urho3D__core_tvariantmap_set_key_value(r40,r41,r42);
	return r22;
}

void samplygame_Weapon_OnFire(samplygame__Weapon r0,bool r1) {
	return;
}

void samplygame_Weapon_new(samplygame__Weapon r0,vdynamic* r1) {
	bool r3;
	int r2;
	r2 = 0;
	r0->level = r2;
	r2 = 1;
	r0->Damage = r2;
	r2 = 500;
	r0->ReloadDuration = r2;
	r2 = 0;
	r0->LastLaunchDate = r2;
	r3 = false;
	r0->isInited = r3;
	urho3d_LogicComponent_new(((urho3d__LogicComponent)r0),r1);
	return;
}

