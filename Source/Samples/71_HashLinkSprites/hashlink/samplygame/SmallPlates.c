// Generated by HLC 4.1.2 (HL v4)
#define HLC_BOOT
#include <hlc.h>
#include <samplygame/SmallPlates.h>
void samplygame_Weapon_new(samplygame__Weapon,vdynamic*);
#include <hl/natives.h>
#include <urho3d/_Context/Context_Impl_.h>
#include <urho3d/StaticModel.h>
urho3d__Node samplygame_Weapon_CreateRigidBullet(samplygame__Weapon,bool,hl_urho3d_math_vector3*);
extern urho3d___Context__$Context_Impl_ g$_urho3d__Context_Context_Impl_;
extern String s$StaticModel;
extern hl_type t$urho3d_StaticModel;
void urho3d_StaticModel_new(urho3d__StaticModel,hl_urho3d_graphics_staticmodel*);
extern String s$Models_Enemy3weapon_mdl;
hl_urho3d_graphics_model* urho3d_StaticModel_set_model(urho3d__StaticModel,hl_urho3d_graphics_model*);
extern String s$Materials_Enemy3weapon_xml;
hl_urho3d_graphics_material* urho3d_StaticModel_set_material(urho3d__StaticModel,hl_urho3d_graphics_material*);
void samplygame_SmallPlates_Launch(samplygame__SmallPlates,urho3d__Node);
#include <urho3d/actions/ActionID.h>
#include <urho3d/actions/ActionDef.h>
#include <urho3d/actions/MoveTo.h>
#include <urho3d/actions/FiniteTimeActionState.h>
extern hl_type t$_f64;
double urho3d_LogicComponent_Random(urho3d__LogicComponent,vdynamic*,vdynamic*);
extern hl_type t$urho3d_actions_MoveTo;
void urho3d_actions_MoveTo_new(urho3d__actions__MoveTo,double,hl_urho3d_math_vector3*);
void samplygame_SmallPlates_bulletNodeRemove(samplygame__SmallPlates,urho3d__actions__ActionID);
extern hl_type t$fun_250c702;
#include <urho3d/actions/FiniteTimeAction.h>
urho3d__actions__ActionID urho3d_actions_ActionManager_AddAction(urho3d__actions__ActionDef,urho3d__actions__FiniteTimeAction,urho3d__Node,urho3d__actions__FiniteTimeActionState,vclosure*);
void urho3d_actions_ActionID_DeleteTargets(urho3d__actions__ActionID);

void samplygame_SmallPlates_new(samplygame__SmallPlates r0) {
	vdynamic *r2;
	int r3;
	r2 = NULL;
	samplygame_Weapon_new(((samplygame__Weapon)r0),r2);
	r3 = 450;
	r0->ReloadDuration = r3;
	r3 = 10;
	r0->Damage = r3;
	return;
}

void samplygame_SmallPlates_OnFire(samplygame__SmallPlates r0,bool r1) {
	String r22;
	hl_urho3d_scene_component *r21;
	urho3d__StaticModel r25;
	hl_urho3d_math_quaternion *r15;
	urho3d__Node r13;
	hl_urho3d_math_vector3 *r2, *r8;
	hl_urho3d_math_tquaternion *r17;
	hl_urho3d_graphics_material *r28, *r29;
	urho3d___Context__$Context_Impl_ r20;
	urho3d_context *r19;
	hl_urho3d_scene_node *r18;
	float r4, r5, r6, r10, r11, r12;
	hl_urho3d_graphics_staticmodel *r24;
	double r3, r9;
	hl_urho3d_math_tvector3 *r14;
	hl_urho3d_graphics_model *r26, *r27;
	int r16, r23;
	r3 = 1.;
	r4 = (float)r3;
	r3 = 1.;
	r5 = (float)r3;
	r3 = 1.;
	r6 = (float)r3;
	r2 = Urho3D__math_vector3_create(r4,r5,r6);
	r4 = Urho3D__math_vector3_get_x(r2);
	r3 = (double)r4;
	r9 = 3.;
	r3 = r3 / r9;
	r4 = (float)r3;
	r5 = Urho3D__math_vector3_get_y(r2);
	r3 = (double)r5;
	r9 = 3.;
	r3 = r3 / r9;
	r5 = (float)r3;
	r6 = Urho3D__math_vector3_get_z(r2);
	r3 = (double)r6;
	r9 = 3.;
	r3 = r3 / r9;
	r6 = (float)r3;
	r8 = Urho3D__math_vector3_create(r4,r5,r6);
	r13 = samplygame_Weapon_CreateRigidBullet(((samplygame__Weapon)r0),r1,r8);
	r14 = NULL;
	if( !r14 ) goto label$baf54ca_2_30;
	r16 = 310;
	r10 = (float)r16;
	r15 = Urho3D__math_quaternion_create_fv(r10,r14);
	goto label$baf54ca_2_37;
	label$baf54ca_2_30:
	r16 = 310;
	r10 = (float)r16;
	r16 = 0;
	r11 = (float)r16;
	r16 = 0;
	r12 = (float)r16;
	r15 = Urho3D__math_quaternion_create(r10,r11,r12);
	label$baf54ca_2_37:
	r17 = Urho3D__math_t_quaternion_cast_from_quaternion(r15);
	if( r13 == NULL ) hl_null_access();
	r18 = r13->abstractNode;
	if( !r18 ) goto label$baf54ca_2_45;
	r20 = (urho3d___Context__$Context_Impl_)g$_urho3d__Context_Context_Impl_;
	r19 = r20->context;
	r18 = r13->abstractNode;
	Urho3D__scene_node_set_rotation(r19,r18,r17);
	label$baf54ca_2_45:
	r3 = 1.;
	r10 = (float)r3;
	r3 = 1.;
	r11 = (float)r3;
	r3 = 1.;
	r12 = (float)r3;
	r14 = Urho3D__math_tvector3_create(r10,r11,r12);
	r18 = r13->abstractNode;
	if( !r18 ) goto label$baf54ca_2_58;
	r20 = (urho3d___Context__$Context_Impl_)g$_urho3d__Context_Context_Impl_;
	r19 = r20->context;
	r18 = r13->abstractNode;
	Urho3D__scene_node_set_scale(r19,r18,r14);
	label$baf54ca_2_58:
	r18 = r13->abstractNode;
	if( !r18 ) goto label$baf54ca_2_68;
	r20 = (urho3d___Context__$Context_Impl_)g$_urho3d__Context_Context_Impl_;
	r19 = r20->context;
	r18 = r13->abstractNode;
	r22 = (String)s$StaticModel;
	r16 = 0;
	r23 = 0;
	r21 = Urho3D__scene_node_create_component(r19,r18,r22,r16,r23);
	goto label$baf54ca_2_69;
	label$baf54ca_2_68:
	r21 = NULL;
	label$baf54ca_2_69:
	if( !r21 ) goto label$baf54ca_2_76;
	r20 = (urho3d___Context__$Context_Impl_)g$_urho3d__Context_Context_Impl_;
	r19 = r20->context;
	r24 = Urho3D__graphics_staticmodel_cast_from_component(r19,r21);
	r25 = (urho3d__StaticModel)hl_alloc_obj(&t$urho3d_StaticModel);
	urho3d_StaticModel_new(r25,r24);
	goto label$baf54ca_2_77;
	label$baf54ca_2_76:
	r25 = NULL;
	label$baf54ca_2_77:
	r20 = (urho3d___Context__$Context_Impl_)g$_urho3d__Context_Context_Impl_;
	r19 = r20->context;
	r22 = (String)s$Models_Enemy3weapon_mdl;
	r26 = Urho3D__graphics_model_create(r19,r22);
	if( r25 == NULL ) hl_null_access();
	r27 = urho3d_StaticModel_set_model(r25,r26);
	r20 = (urho3d___Context__$Context_Impl_)g$_urho3d__Context_Context_Impl_;
	r19 = r20->context;
	r22 = (String)s$Materials_Enemy3weapon_xml;
	r28 = Urho3D__graphics_material_create(r19,r22);
	r29 = urho3d_StaticModel_set_material(r25,r28);
	samplygame_SmallPlates_Launch(r0,r13);
	return;
}

void samplygame_SmallPlates_Launch(samplygame__SmallPlates r0,urho3d__Node r1) {
	urho3d__actions__ActionDef r12;
	urho3d__actions__FiniteTimeActionState r14;
	hl_urho3d_math_vector3 *r2;
	urho3d__actions__MoveTo r13;
	float r6, r8, r9;
	vclosure *r15;
	double r3;
	vdynamic *r4, *r5;
	urho3d__actions__ActionID r11;
	int r7;
	r3 = -6.;
	r4 = hl_alloc_dynamic(&t$_f64);
	r4->v.d = r3;
	r3 = 6.;
	r5 = hl_alloc_dynamic(&t$_f64);
	r5->v.d = r3;
	r3 = urho3d_LogicComponent_Random(((urho3d__LogicComponent)r0),r4,r5);
	r6 = (float)r3;
	r7 = -6;
	r8 = (float)r7;
	r7 = 0;
	r9 = (float)r7;
	r2 = Urho3D__math_vector3_create(r6,r8,r9);
	r12 = NULL;
	r13 = (urho3d__actions__MoveTo)hl_alloc_obj(&t$urho3d_actions_MoveTo);
	r3 = 3.;
	urho3d_actions_MoveTo_new(r13,r3,r2);
	r14 = NULL;
	r15 = hl_alloc_closure_ptr(&t$fun_250c702,samplygame_SmallPlates_bulletNodeRemove,r0);
	r11 = urho3d_actions_ActionManager_AddAction(r12,((urho3d__actions__FiniteTimeAction)r13),r1,r14,r15);
	return;
}

void samplygame_SmallPlates_bulletNodeRemove(samplygame__SmallPlates r0,urho3d__actions__ActionID r1) {
	if( r1 == NULL ) hl_null_access();
	urho3d_actions_ActionID_DeleteTargets(r1);
	return;
}

