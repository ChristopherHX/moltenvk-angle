// Generated by HLC 4.1.2 (HL v4)
#define HLC_BOOT
#include <hlc.h>
#include <actions/RepeatForeverState.h>
#include <actions/FiniteTimeAction.h>
#include <actions/RepeatForever.h>
extern hl_type t$hl_types_ArrayObj;
void hl_types_ArrayObj_new(hl__types__ArrayObj);
void actions_FiniteTimeActionState_new(actions__FiniteTimeActionState,actions__FiniteTimeAction,urho3d__Node);
int hl_types_ArrayObj_push(hl__types__ArrayObj,vdynamic*);

void actions_RepeatForeverState_Step(actions__RepeatForeverState r0,double r1) {
	hl__types__ArrayObj r7;
	bool r5;
	actions__FiniteTimeActionState r3;
	urho3d__Node r13;
	actions__FiniteTimeAction r10;
	double r4, r6;
	vdynamic *r11;
	varray *r12;
	int r8, r9;
	r3 = r0->InnerActionState;
	if( r3 == NULL ) hl_null_access();
	((void (*)(actions__FiniteTimeActionState,double))r3->$type->vobj_proto[2])(r3,r1);
	r3 = r0->InnerActionState;
	if( r3 == NULL ) hl_null_access();
	r5 = ((bool (*)(actions__FiniteTimeActionState))r3->$type->vobj_proto[0])(r3);
	if( !r5 ) goto label$66fb7c2_1_35;
	r3 = r0->InnerActionState;
	if( r3 == NULL ) hl_null_access();
	r4 = r3->elapsed;
	r3 = r0->InnerActionState;
	if( r3 == NULL ) hl_null_access();
	r6 = r3->Duration;
	r4 = r4 - r6;
	r7 = r0->InnerAction;
	if( r7 == NULL ) hl_null_access();
	r8 = 0;
	r9 = r7->length;
	if( ((unsigned)r8) < ((unsigned)r9) ) goto label$66fb7c2_1_21;
	r10 = NULL;
	goto label$66fb7c2_1_24;
	label$66fb7c2_1_21:
	r12 = r7->array;
	r11 = ((vdynamic**)(r12 + 1))[r8];
	r10 = (actions__FiniteTimeAction)r11;
	label$66fb7c2_1_24:
	if( r10 == NULL ) hl_null_access();
	r13 = r0->Target;
	r3 = ((actions__FiniteTimeActionState (*)(actions__FiniteTimeAction,urho3d__Node))r10->$type->vobj_proto[1])(r10,r13);
	r0->InnerActionState = r3;
	r3 = r0->InnerActionState;
	if( r3 == NULL ) hl_null_access();
	r6 = 0.;
	((void (*)(actions__FiniteTimeActionState,double))r3->$type->vobj_proto[2])(r3,r6);
	r3 = r0->InnerActionState;
	if( r3 == NULL ) hl_null_access();
	((void (*)(actions__FiniteTimeActionState,double))r3->$type->vobj_proto[2])(r3,r4);
	label$66fb7c2_1_35:
	return;
}

bool actions_RepeatForeverState_IsDone(actions__RepeatForeverState r0) {
	bool r1;
	r1 = false;
	return r1;
}

void actions_RepeatForeverState_new(actions__RepeatForeverState r0,actions__RepeatForever r1,urho3d__Node r2) {
	hl__types__ArrayObj r3, r6;
	actions__FiniteTimeActionState r11;
	actions__FiniteTimeAction r8;
	vdynamic *r9;
	varray *r10;
	int r5, r7;
	r3 = (hl__types__ArrayObj)hl_alloc_obj(&t$hl_types_ArrayObj);
	hl_types_ArrayObj_new(r3);
	r0->InnerAction = r3;
	actions_FiniteTimeActionState_new(((actions__FiniteTimeActionState)r0),((actions__FiniteTimeAction)r1),r2);
	r3 = r0->InnerAction;
	if( r3 == NULL ) hl_null_access();
	if( r1 == NULL ) hl_null_access();
	r6 = r1->InnerAction;
	if( r6 == NULL ) hl_null_access();
	r5 = 0;
	r7 = r6->length;
	if( ((unsigned)r5) < ((unsigned)r7) ) goto label$66fb7c2_3_14;
	r8 = NULL;
	goto label$66fb7c2_3_17;
	label$66fb7c2_3_14:
	r10 = r6->array;
	r9 = ((vdynamic**)(r10 + 1))[r5];
	r8 = (actions__FiniteTimeAction)r9;
	label$66fb7c2_3_17:
	r5 = hl_types_ArrayObj_push(r3,((vdynamic*)r8));
	r3 = r1->InnerAction;
	if( r3 == NULL ) hl_null_access();
	r5 = 0;
	r7 = r3->length;
	if( ((unsigned)r5) < ((unsigned)r7) ) goto label$66fb7c2_3_25;
	r8 = NULL;
	goto label$66fb7c2_3_28;
	label$66fb7c2_3_25:
	r10 = r3->array;
	r9 = ((vdynamic**)(r10 + 1))[r5];
	r8 = (actions__FiniteTimeAction)r9;
	label$66fb7c2_3_28:
	if( r8 == NULL ) hl_null_access();
	r11 = ((actions__FiniteTimeActionState (*)(actions__FiniteTimeAction,urho3d__Node))r8->$type->vobj_proto[1])(r8,r2);
	r0->InnerActionState = r11;
	return;
}

