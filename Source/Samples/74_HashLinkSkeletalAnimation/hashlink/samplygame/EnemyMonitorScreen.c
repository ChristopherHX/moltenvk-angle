// Generated by HLC 4.1.2 (HL v4)
#define HLC_BOOT
#include <hlc.h>
#include <samplygame/EnemyMonitorScreen.h>
#include <hl/natives.h>
void samplygame_Enemy_new(samplygame__Enemy);
extern String s$EnemyMonitorScreen;
#include <urho3d/_Context/Context_Impl_.h>
#include <urho3d/StaticModel.h>
#include <samplygame/SmallPlates.h>
#include <haxe/ds/ObjectMap.h>
#include <haxe/ds/StringMap.h>
#include <hl/types/ArrayDyn.h>
#include <hl/types/ArrayObj.h>
#include <actions/ActionID.h>
#include <actions/ActionDef.h>
#include <actions/MoveTo.h>
#include <actions/FiniteTimeActionState.h>
urho3d__Node urho3d_Component_get_node(urho3d__Component);
extern urho3d___Context__$Context_Impl_ g$_urho3d__Context_Context_Impl_;
extern String s$StaticModel;
extern hl_type t$urho3d_StaticModel;
void urho3d_StaticModel_new(urho3d__StaticModel,hl_urho3d_graphics_staticmodel*);
extern String s$Models_Enemy3_mdl;
hl_urho3d_graphics_model* urho3d_StaticModel_set_model(urho3d__StaticModel,hl_urho3d_graphics_model*);
extern String s$Materials_Enemy3_xml;
extern String s$;
hl_urho3d_graphics_material* urho3d_StaticModel_set_material(urho3d__StaticModel,hl_urho3d_graphics_material*);
extern hl_type t$samplygame_SmallPlates;
void samplygame_SmallPlates_new(samplygame__SmallPlates);
extern hl_type t$urho3d_Component;
hl_urho3d_scene_component_ptr* urho3d_Component_get_pointer(urho3d__Component);
extern hl_type t$hl_urho3d_scene_component_ptr;
void haxe_ds_ObjectMap_set(haxe__ds__ObjectMap,vdynamic*,vdynamic*);
urho3d__Node urho3d_Component_set_node(urho3d__Component,urho3d__Node);
extern hl_type t$_dyn;
extern hl_type t$hl_urho3d_scene_component;
String Std_string(vdynamic*);
vdynamic* haxe_ds_StringMap_get(haxe__ds__StringMap,String);
extern hl_type t$hl_types_ArrayDyn;
hl__types__ArrayObj hl_types_ArrayObj_alloc(varray*);
#include <hl/types/ArrayBase.h>
hl__types__ArrayDyn hl_types_ArrayDyn_alloc(hl__types__ArrayBase,bool*);
void haxe_ds_StringMap_set(haxe__ds__StringMap,String,vdynamic*);
int hl_types_ArrayDyn_push(hl__types__ArrayDyn,vdynamic*);
extern hl_type t$actions_MoveTo;
void actions_MoveTo_new(actions__MoveTo,double,hl_urho3d_math_vector3*);
void samplygame_EnemyMonitorScreen_StartMoveRandomLoop(samplygame__EnemyMonitorScreen,actions__ActionID);
extern hl_type t$fun_25612f9;
#include <actions/FiniteTimeAction.h>
actions__ActionID actions_ActionManager_AddAction(actions__ActionDef,actions__FiniteTimeAction,urho3d__Node,actions__FiniteTimeActionState,vclosure*);
void samplygame_Enemy_MoveRandomly(samplygame__Enemy,double,double,double,double,double);
void samplygame_Enemy_StartShooting(samplygame__Enemy);

void samplygame_EnemyMonitorScreen_new(samplygame__EnemyMonitorScreen r0,bool* r1) {
	String r4;
	bool r2;
	hl_urho3d_math_vector3 *r6, *r11;
	float r7, r8, r9;
	double r10, r12;
	int r5;
	if( r1 ) goto label$b6e3eac_1_3;
	r2 = false;
	goto label$b6e3eac_1_4;
	label$b6e3eac_1_3:
	r2 = *r1;
	label$b6e3eac_1_4:
	samplygame_Enemy_new(((samplygame__Enemy)r0));
	r0->fromLeftSide = r2;
	r4 = (String)s$EnemyMonitorScreen;
	r0->name = r4;
	r5 = 80;
	r0->MaxHealth = r5;
	r5 = 1;
	r7 = (float)r5;
	r5 = 1;
	r8 = (float)r5;
	r5 = 1;
	r9 = (float)r5;
	r6 = Urho3D__math_vector3_create(r7,r8,r9);
	r7 = Urho3D__math_vector3_get_x(r6);
	r10 = (double)r7;
	r12 = 2.;
	r10 = r10 / r12;
	r7 = (float)r10;
	r8 = Urho3D__math_vector3_get_y(r6);
	r10 = (double)r8;
	r12 = 2.;
	r10 = r10 / r12;
	r8 = (float)r10;
	r9 = Urho3D__math_vector3_get_z(r6);
	r10 = (double)r9;
	r12 = 2.;
	r10 = r10 / r12;
	r9 = (float)r10;
	r11 = Urho3D__math_vector3_create(r7,r8,r9);
	r0->CollisionShapeSize = r11;
	return;
}

void samplygame_EnemyMonitorScreen_Init(samplygame__EnemyMonitorScreen r0) {
	bool *r34;
	String r8;
	haxe__ds__ObjectMap r26;
	hl__types__ArrayObj r32;
	haxe__ds__StringMap r28;
	hl_type *r31;
	hl_urho3d_scene_component *r5;
	actions__FiniteTimeActionState r40;
	bool r33;
	urho3d__StaticModel r12;
	hl_urho3d_math_vector3 *r35;
	urho3d__Node r2, r4, r22;
	urho3d__Component r25;
	hl_urho3d_graphics_material *r15, *r16;
	urho3d___Context__$Context_Impl_ r7;
	actions__ActionDef r38;
	actions__ActionID r37;
	float r19, r20, r21;
	urho3d_context *r6;
	hl_urho3d_scene_node *r3;
	vclosure *r41;
	actions__MoveTo r39;
	hl__types__ArrayDyn r29;
	hl_urho3d_scene_component_ptr *r27;
	double r18, r36;
	hl_urho3d_graphics_staticmodel *r11;
	vdynamic *r24;
	samplygame__SmallPlates r23;
	hl_urho3d_math_tvector3 *r17;
	varray *r30;
	hl_urho3d_graphics_model *r13, *r14;
	int r9, r10;
	r2 = urho3d_Component_get_node(((urho3d__Component)r0));
	if( r2 == NULL ) hl_null_access();
	r3 = r2->abstractNode;
	if( !r3 ) goto label$b6e3eac_2_12;
	r7 = (urho3d___Context__$Context_Impl_)g$_urho3d__Context_Context_Impl_;
	r6 = r7->context;
	r3 = r2->abstractNode;
	r8 = (String)s$StaticModel;
	r9 = 0;
	r10 = 0;
	r5 = Urho3D__scene_node_create_component(r6,r3,r8,r9,r10);
	goto label$b6e3eac_2_13;
	label$b6e3eac_2_12:
	r5 = NULL;
	label$b6e3eac_2_13:
	if( !r5 ) goto label$b6e3eac_2_20;
	r7 = (urho3d___Context__$Context_Impl_)g$_urho3d__Context_Context_Impl_;
	r6 = r7->context;
	r11 = Urho3D__graphics_staticmodel_cast_from_component(r6,r5);
	r12 = (urho3d__StaticModel)hl_alloc_obj(&t$urho3d_StaticModel);
	urho3d_StaticModel_new(r12,r11);
	goto label$b6e3eac_2_21;
	label$b6e3eac_2_20:
	r12 = NULL;
	label$b6e3eac_2_21:
	r7 = (urho3d___Context__$Context_Impl_)g$_urho3d__Context_Context_Impl_;
	r6 = r7->context;
	r8 = (String)s$Models_Enemy3_mdl;
	r13 = Urho3D__graphics_model_create(r6,r8);
	if( r12 == NULL ) hl_null_access();
	r14 = urho3d_StaticModel_set_model(r12,r13);
	r7 = (urho3d___Context__$Context_Impl_)g$_urho3d__Context_Context_Impl_;
	r6 = r7->context;
	r8 = (String)s$Materials_Enemy3_xml;
	r15 = Urho3D__graphics_material_create(r6,r8);
	r7 = (urho3d___Context__$Context_Impl_)g$_urho3d__Context_Context_Impl_;
	r6 = r7->context;
	r8 = (String)s$;
	r16 = Urho3D__graphics_material_clone(r6,r15,r8);
	r16 = urho3d_StaticModel_set_material(r12,r16);
	r4 = urho3d_Component_get_node(((urho3d__Component)r0));
	r18 = 1.;
	r19 = (float)r18;
	r18 = 1.;
	r20 = (float)r18;
	r18 = 1.;
	r21 = (float)r18;
	r17 = Urho3D__math_tvector3_create(r19,r20,r21);
	if( r4 == NULL ) hl_null_access();
	r3 = r4->abstractNode;
	if( !r3 ) goto label$b6e3eac_2_51;
	r7 = (urho3d___Context__$Context_Impl_)g$_urho3d__Context_Context_Impl_;
	r6 = r7->context;
	r3 = r4->abstractNode;
	Urho3D__scene_node_set_scale(r6,r3,r17);
	label$b6e3eac_2_51:
	r4 = urho3d_Component_get_node(((urho3d__Component)r0));
	r23 = (samplygame__SmallPlates)hl_alloc_obj(&t$samplygame_SmallPlates);
	samplygame_SmallPlates_new(r23);
	if( r4 == NULL ) hl_null_access();
	r3 = r4->abstractNode;
	if( !r3 ) goto label$b6e3eac_2_97;
	r25 = (urho3d__Component)hl_dyn_castp(&r23,&t$samplygame_SmallPlates,&t$urho3d_Component);
	r26 = r4->components_map;
	if( r26 == NULL ) hl_null_access();
	if( r25 == NULL ) hl_null_access();
	r27 = urho3d_Component_get_pointer(r25);
	if( r27 == NULL ) r24 = NULL; else {
		r24 = hl_alloc_dynamic(&t$hl_urho3d_scene_component_ptr);
		r24->v.ptr = r27;
	}
	haxe_ds_ObjectMap_set(r26,r24,((vdynamic*)r25));
	r22 = urho3d_Component_set_node(r25,r4);
	r7 = (urho3d___Context__$Context_Impl_)g$_urho3d__Context_Context_Impl_;
	r6 = r7->context;
	r3 = r4->abstractNode;
	r24 = (vdynamic*)hl_dyn_getp((vdynamic*)r23,-460463503/*abstractComponent*/,&t$_dyn);
	r5 = (hl_urho3d_scene_component*)hl_dyn_castp(&r24,&t$_dyn,&t$hl_urho3d_scene_component);
	r9 = 0;
	r10 = 0;
	Urho3D__scene_node_add_component(r6,r3,r5,r9,r10);
	r28 = r4->logic_components_map;
	if( r28 == NULL ) hl_null_access();
	r8 = Std_string(((vdynamic*)r23));
	r24 = haxe_ds_StringMap_get(r28,r8);
	r29 = (hl__types__ArrayDyn)hl_dyn_castp(&r24,&t$_dyn,&t$hl_types_ArrayDyn);
	if( r29 ) goto label$b6e3eac_2_90;
	r31 = &t$_dyn;
	r9 = 0;
	r30 = hl_alloc_array(r31,r9);
	r32 = hl_types_ArrayObj_alloc(r30);
	r33 = true;
	r34 = &r33;
	r29 = hl_types_ArrayDyn_alloc(((hl__types__ArrayBase)r32),r34);
	r28 = r4->logic_components_map;
	if( r28 == NULL ) hl_null_access();
	r8 = Std_string(((vdynamic*)r23));
	haxe_ds_StringMap_set(r28,r8,((vdynamic*)r29));
	label$b6e3eac_2_90:
	r28 = r4->logic_components_map;
	if( r28 == NULL ) hl_null_access();
	r8 = Std_string(((vdynamic*)r23));
	r24 = haxe_ds_StringMap_get(r28,r8);
	r29 = (hl__types__ArrayDyn)hl_dyn_castp(&r24,&t$_dyn,&t$hl_types_ArrayDyn);
	if( r29 == NULL ) hl_null_access();
	r9 = hl_types_ArrayDyn_push(r29,((vdynamic*)r23));
	label$b6e3eac_2_97:
	r33 = r0->fromLeftSide;
	if( !r33 ) goto label$b6e3eac_2_101;
	r9 = -1;
	goto label$b6e3eac_2_102;
	label$b6e3eac_2_101:
	r9 = 1;
	label$b6e3eac_2_102:
	r4 = urho3d_Component_get_node(((urho3d__Component)r0));
	r10 = 3;
	r10 = r10 * r9;
	r19 = (float)r10;
	r10 = 3;
	r20 = (float)r10;
	r10 = 0;
	r21 = (float)r10;
	r35 = Urho3D__math_vector3_create(r19,r20,r21);
	r17 = Urho3D__math_tvector3_cast_from_vector3(r35);
	if( r4 == NULL ) hl_null_access();
	r3 = r4->abstractNode;
	if( !r3 ) goto label$b6e3eac_2_119;
	r7 = (urho3d___Context__$Context_Impl_)g$_urho3d__Context_Context_Impl_;
	r6 = r7->context;
	r3 = r4->abstractNode;
	Urho3D__scene_node_set_position(r6,r3,r17);
	label$b6e3eac_2_119:
	r18 = 1.100000000000000089;
	r36 = (double)r9;
	r18 = r18 * r36;
	r19 = (float)r18;
	r18 = 2.;
	r20 = (float)r18;
	r10 = 0;
	r21 = (float)r10;
	r35 = Urho3D__math_vector3_create(r19,r20,r21);
	r38 = NULL;
	r39 = (actions__MoveTo)hl_alloc_obj(&t$actions_MoveTo);
	r18 = 0.5;
	actions_MoveTo_new(r39,r18,r35);
	r4 = urho3d_Component_get_node(((urho3d__Component)r0));
	r40 = NULL;
	r41 = hl_alloc_closure_ptr(&t$fun_25612f9,samplygame_EnemyMonitorScreen_StartMoveRandomLoop,r0);
	r37 = actions_ActionManager_AddAction(r38,((actions__FiniteTimeAction)r39),r4,r40,r41);
	return;
}

void samplygame_EnemyMonitorScreen_StartMoveRandomLoop(samplygame__EnemyMonitorScreen r0,actions__ActionID r1) {
	double r3, r4, r5, r6, r7;
	r3 = -0.2999999999999999889;
	r4 = 0.2999999999999999889;
	r5 = -0.2999999999999999889;
	r6 = 0.2999999999999999889;
	r7 = 1.;
	samplygame_Enemy_MoveRandomly(((samplygame__Enemy)r0),r3,r4,r5,r6,r7);
	samplygame_Enemy_StartShooting(((samplygame__Enemy)r0));
	return;
}

