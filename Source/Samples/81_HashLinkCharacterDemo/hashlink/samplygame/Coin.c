// Generated by HLC 4.1.2 (HL v4)
#define HLC_BOOT
#include <hlc.h>
#include <samplygame/Coin.h>
void samplygame_Weapon_new(samplygame__Weapon,vdynamic*);
#include <hl/natives.h>
#include <urho3d/_Context/Context_Impl_.h>
#include <urho3d/StaticModel.h>
#include <hl/types/ArrayObj.h>
#include <actions/MoveBy.h>
#include <actions/RotateBy.h>
#include <actions/ActionID.h>
#include <actions/ActionDef.h>
#include <actions/Parallel.h>
#include <actions/FiniteTimeActionState.h>
urho3d__Node samplygame_Weapon_CreateRigidBullet(samplygame__Weapon,bool,hl_urho3d_math_vector3*);
extern urho3d___Context__$Context_Impl_ g$_urho3d__Context_Context_Impl_;
extern String s$StaticModel;
extern hl_type t$urho3d_StaticModel;
void urho3d_StaticModel_new(urho3d__StaticModel,hl_urho3d_graphics_staticmodel*);
extern String s$Models_Apple_mdl;
hl_urho3d_graphics_model* urho3d_StaticModel_set_model(urho3d__StaticModel,hl_urho3d_graphics_model*);
extern String s$Materials_Apple_xml;
hl_urho3d_graphics_material* urho3d_StaticModel_set_material(urho3d__StaticModel,hl_urho3d_graphics_material*);
extern hl_type t$actions_FiniteTimeAction;
hl__types__ArrayObj hl_types_ArrayObj_alloc(varray*);
extern hl_type t$actions_MoveBy;
void actions_MoveBy_new(actions__MoveBy,double,hl_urho3d_math_vector3*);
int hl_types_ArrayObj_push(hl__types__ArrayObj,vdynamic*);
extern hl_type t$actions_RotateBy;
extern hl_type t$_f64;
void actions_RotateBy_new(actions__RotateBy,double,double,vdynamic*,vdynamic*);
extern hl_type t$actions_Parallel;
void actions_Parallel_new(actions__Parallel,hl__types__ArrayObj);
void samplygame_Coin_bulletNodeRemove(samplygame__Coin,actions__ActionID);
extern hl_type t$fun_2edc73d;
#include <actions/FiniteTimeAction.h>
actions__ActionID actions_ActionManager_AddAction(actions__ActionDef,actions__FiniteTimeAction,urho3d__Node,actions__FiniteTimeActionState,vclosure*);
void actions_ActionID_DeleteTargets(actions__ActionID);
#include <urho3d/SoundSource.h>
#include <samplygame/SamplyGame.h>
urho3d__Node urho3d_Component_get_node(urho3d__Component);
extern String s$SoundSource;
extern hl_type t$urho3d_SoundSource;
void urho3d_SoundSource_new(urho3d__SoundSource,hl_urho3d_audio_sound_source*);
extern String s$Sounds_Powerup_wav;
void urho3d_SoundSource_Play(urho3d__SoundSource,hl_urho3d_audio_sound*,vdynamic*,vdynamic*,vdynamic*);
float urho3d_SoundSource_set_gain(urho3d__SoundSource,float);
void samplygame_Weapon_OnHit(samplygame__Weapon,urho3d__LogicComponent,bool,urho3d__Node);
extern samplygame__$SamplyGame g$_samplygame_SamplyGame;
void samplygame_SamplyGame_OnCoinCollected(samplygame__SamplyGame);

void samplygame_Coin_new(samplygame__Coin r0) {
	vdynamic *r2;
	int r3;
	r2 = NULL;
	samplygame_Weapon_new(((samplygame__Weapon)r0),r2);
	r3 = 0;
	r0->Damage = r3;
	return;
}

void samplygame_Coin_OnFire(samplygame__Coin r0,bool r1) {
	String r9;
	hl__types__ArrayObj r25;
	hl_type *r27;
	hl_urho3d_scene_component *r6;
	actions__FiniteTimeActionState r37;
	urho3d__StaticModel r13;
	hl_urho3d_math_quaternion *r23;
	hl_urho3d_math_vector3 *r3;
	urho3d__Node r2;
	actions__MoveBy r28;
	hl_urho3d_math_tquaternion *r24;
	hl_urho3d_graphics_material *r16, *r17;
	urho3d___Context__$Context_Impl_ r8;
	actions__ActionDef r35;
	actions__ActionID r34;
	float r20, r21, r22;
	urho3d_context *r7;
	hl_urho3d_scene_node *r5;
	vclosure *r38;
	actions__RotateBy r29;
	double r19, r30, r31;
	hl_urho3d_graphics_staticmodel *r12;
	vdynamic *r32, *r33;
	hl_urho3d_math_tvector3 *r18;
	actions__Parallel r36;
	varray *r26;
	hl_urho3d_graphics_model *r14, *r15;
	int r10, r11;
	r3 = NULL;
	r2 = samplygame_Weapon_CreateRigidBullet(((samplygame__Weapon)r0),r1,r3);
	if( r2 == NULL ) hl_null_access();
	r5 = r2->abstractNode;
	if( !r5 ) goto label$c0c16d0_2_13;
	r8 = (urho3d___Context__$Context_Impl_)g$_urho3d__Context_Context_Impl_;
	r7 = r8->context;
	r5 = r2->abstractNode;
	r9 = (String)s$StaticModel;
	r10 = 0;
	r11 = 0;
	r6 = Urho3D__scene_node_create_component(r7,r5,r9,r10,r11);
	goto label$c0c16d0_2_14;
	label$c0c16d0_2_13:
	r6 = NULL;
	label$c0c16d0_2_14:
	if( !r6 ) goto label$c0c16d0_2_21;
	r8 = (urho3d___Context__$Context_Impl_)g$_urho3d__Context_Context_Impl_;
	r7 = r8->context;
	r12 = Urho3D__graphics_staticmodel_cast_from_component(r7,r6);
	r13 = (urho3d__StaticModel)hl_alloc_obj(&t$urho3d_StaticModel);
	urho3d_StaticModel_new(r13,r12);
	goto label$c0c16d0_2_22;
	label$c0c16d0_2_21:
	r13 = NULL;
	label$c0c16d0_2_22:
	r8 = (urho3d___Context__$Context_Impl_)g$_urho3d__Context_Context_Impl_;
	r7 = r8->context;
	r9 = (String)s$Models_Apple_mdl;
	r14 = Urho3D__graphics_model_create(r7,r9);
	if( r13 == NULL ) hl_null_access();
	r15 = urho3d_StaticModel_set_model(r13,r14);
	r8 = (urho3d___Context__$Context_Impl_)g$_urho3d__Context_Context_Impl_;
	r7 = r8->context;
	r9 = (String)s$Materials_Apple_xml;
	r16 = Urho3D__graphics_material_create(r7,r9);
	r17 = urho3d_StaticModel_set_material(r13,r16);
	r19 = 0.8000000000000000444;
	r20 = (float)r19;
	r19 = 0.8000000000000000444;
	r21 = (float)r19;
	r19 = 0.8000000000000000444;
	r22 = (float)r19;
	r18 = Urho3D__math_tvector3_create(r20,r21,r22);
	r5 = r2->abstractNode;
	if( !r5 ) goto label$c0c16d0_2_46;
	r8 = (urho3d___Context__$Context_Impl_)g$_urho3d__Context_Context_Impl_;
	r7 = r8->context;
	r5 = r2->abstractNode;
	Urho3D__scene_node_set_scale(r7,r5,r18);
	label$c0c16d0_2_46:
	r18 = NULL;
	if( !r18 ) goto label$c0c16d0_2_52;
	r10 = -40;
	r20 = (float)r10;
	r23 = Urho3D__math_quaternion_create_fv(r20,r18);
	goto label$c0c16d0_2_59;
	label$c0c16d0_2_52:
	r10 = -40;
	r20 = (float)r10;
	r10 = 0;
	r21 = (float)r10;
	r10 = 0;
	r22 = (float)r10;
	r23 = Urho3D__math_quaternion_create(r20,r21,r22);
	label$c0c16d0_2_59:
	r24 = Urho3D__math_t_quaternion_cast_from_quaternion(r23);
	r5 = r2->abstractNode;
	if( !r5 ) goto label$c0c16d0_2_66;
	r8 = (urho3d___Context__$Context_Impl_)g$_urho3d__Context_Context_Impl_;
	r7 = r8->context;
	r5 = r2->abstractNode;
	Urho3D__scene_node_set_rotation(r7,r5,r24);
	label$c0c16d0_2_66:
	r27 = &t$actions_FiniteTimeAction;
	r10 = 0;
	r26 = hl_alloc_array(r27,r10);
	r25 = hl_types_ArrayObj_alloc(r26);
	r10 = 0;
	r20 = (float)r10;
	r10 = 10;
	if( !r1 ) goto label$c0c16d0_2_76;
	r11 = 1;
	goto label$c0c16d0_2_77;
	label$c0c16d0_2_76:
	r11 = -1;
	label$c0c16d0_2_77:
	r10 = r10 * r11;
	r21 = (float)r10;
	r10 = 0;
	r22 = (float)r10;
	r3 = Urho3D__math_vector3_create(r20,r21,r22);
	if( r25 == NULL ) hl_null_access();
	r28 = (actions__MoveBy)hl_alloc_obj(&t$actions_MoveBy);
	r19 = 3.;
	actions_MoveBy_new(r28,r19,r3);
	r10 = hl_types_ArrayObj_push(r25,((vdynamic*)r28));
	r29 = (actions__RotateBy)hl_alloc_obj(&t$actions_RotateBy);
	r19 = 3.;
	r30 = 0.;
	r10 = 1800;
	r31 = (double)r10;
	r32 = hl_alloc_dynamic(&t$_f64);
	r32->v.d = r31;
	r10 = 0;
	r31 = (double)r10;
	r33 = hl_alloc_dynamic(&t$_f64);
	r33->v.d = r31;
	actions_RotateBy_new(r29,r19,r30,r32,r33);
	r10 = hl_types_ArrayObj_push(r25,((vdynamic*)r29));
	r35 = NULL;
	r36 = (actions__Parallel)hl_alloc_obj(&t$actions_Parallel);
	actions_Parallel_new(r36,r25);
	r37 = NULL;
	r38 = hl_alloc_closure_ptr(&t$fun_2edc73d,samplygame_Coin_bulletNodeRemove,r0);
	r34 = actions_ActionManager_AddAction(r35,((actions__FiniteTimeAction)r36),r2,r37,r38);
	return;
}

void samplygame_Coin_bulletNodeRemove(samplygame__Coin r0,actions__ActionID r1) {
	if( r1 == NULL ) hl_null_access();
	actions_ActionID_DeleteTargets(r1);
	return;
}

void samplygame_Coin_OnHit(samplygame__Coin r0,urho3d__LogicComponent r1,bool r2,urho3d__Node r3) {
	samplygame__SamplyGame r21;
	String r10;
	urho3d__SoundSource r14;
	hl_urho3d_scene_component *r7;
	hl_urho3d_audio_sound *r15;
	urho3d__Node r5;
	urho3d___Context__$Context_Impl_ r9;
	float r19;
	urho3d_context *r8;
	hl_urho3d_scene_node *r6;
	double r20;
	vdynamic *r16, *r17, *r18;
	hl_urho3d_audio_sound_source *r13;
	samplygame__$SamplyGame r22;
	int r11, r12;
	r5 = urho3d_Component_get_node(((urho3d__Component)r0));
	if( r5 == NULL ) hl_null_access();
	r6 = r5->abstractNode;
	if( !r6 ) goto label$c0c16d0_4_12;
	r9 = (urho3d___Context__$Context_Impl_)g$_urho3d__Context_Context_Impl_;
	r8 = r9->context;
	r6 = r5->abstractNode;
	r10 = (String)s$SoundSource;
	r11 = 0;
	r12 = 0;
	r7 = Urho3D__scene_node_create_component(r8,r6,r10,r11,r12);
	goto label$c0c16d0_4_13;
	label$c0c16d0_4_12:
	r7 = NULL;
	label$c0c16d0_4_13:
	if( !r7 ) goto label$c0c16d0_4_23;
	r9 = (urho3d___Context__$Context_Impl_)g$_urho3d__Context_Context_Impl_;
	r8 = r9->context;
	r13 = Urho3D__audio_sound_source_cast_from_component(r8,r7);
	if( !r13 ) goto label$c0c16d0_4_21;
	r14 = (urho3d__SoundSource)hl_alloc_obj(&t$urho3d_SoundSource);
	urho3d_SoundSource_new(r14,r13);
	goto label$c0c16d0_4_22;
	label$c0c16d0_4_21:
	r14 = NULL;
	label$c0c16d0_4_22:
	goto label$c0c16d0_4_24;
	label$c0c16d0_4_23:
	r14 = NULL;
	label$c0c16d0_4_24:
	r9 = (urho3d___Context__$Context_Impl_)g$_urho3d__Context_Context_Impl_;
	r8 = r9->context;
	r10 = (String)s$Sounds_Powerup_wav;
	r15 = Urho3D__audio_sound_create(r8,r10);
	if( !r15 ) goto label$c0c16d0_4_38;
	if( r14 == NULL ) hl_null_access();
	r16 = NULL;
	r17 = NULL;
	r18 = NULL;
	urho3d_SoundSource_Play(r14,r15,r16,r17,r18);
	r20 = 0.1000000000000000056;
	r19 = (float)r20;
	r19 = urho3d_SoundSource_set_gain(r14,r19);
	r20 = (double)r19;
	label$c0c16d0_4_38:
	samplygame_Weapon_OnHit(((samplygame__Weapon)r0),r1,r2,r3);
	r22 = (samplygame__$SamplyGame)g$_samplygame_SamplyGame;
	r21 = r22->mainGame;
	if( !r21 ) goto label$c0c16d0_4_46;
	r22 = (samplygame__$SamplyGame)g$_samplygame_SamplyGame;
	r21 = r22->mainGame;
	if( r21 == NULL ) hl_null_access();
	samplygame_SamplyGame_OnCoinCollected(r21);
	label$c0c16d0_4_46:
	return;
}

